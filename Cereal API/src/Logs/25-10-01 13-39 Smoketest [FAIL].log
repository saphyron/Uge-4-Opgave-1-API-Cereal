CerealAPI Smoketest @ 01-10-2025 13:39:38
BaseUrl: https://localhost:7257/
RunId  : 25dfc65a

[FAIL] GET /auth/health (87 ms) | HTTP 0; body: 
[FAIL] GET /weatherforecast (5 items) (17 ms) | HTTP 0; items: 0
[PASS] POST /auth/register (happy path -> 201/200) (1160 ms) | HTTP 201; body: {"id":16,"username":"u_25dfc65a"}
[PASS] POST /auth/register (duplicate -> 409) (36 ms) | HTTP 409; body: {"message":"Username already exists."}
[PASS] POST /auth/register (missing username -> 400) (7 ms) | HTTP 400; body: {"message":"Username and password are required."}
[PASS] POST /auth/register (empty password -> 400) (5 ms) | HTTP 400; body: {"message":"Username and password are required."}
[PASS] POST /auth/login (200 + cookie + token) (223 ms) | HTTP 200; token? True; cookie? True
[PASS] POST /auth/login (wrong password -> 401/403) (76 ms) | HTTP 401
[PASS] POST /auth/login (unknown user -> 401/403) (6 ms) | HTTP 401
[PASS] POST /auth/login (malformed -> 400/401/403) (6 ms) | HTTP 401
[PASS] GET /auth/me (no auth -> 401/403) (68 ms) | HTTP 401
[PASS] GET /auth/me (cookie -> 200 & username) (79 ms) | HTTP 200; body: {"user":{"id":16,"username":"u_25dfc65a","role":"user"}}
[PASS] GET /auth/me (Bearer -> 200 & username) (66 ms) | HTTP 200
[PASS] GET /auth/me (tampered token -> 401/403) (19 ms) | HTTP 401
[PASS] POST /auth/logout (200) (50 ms) | HTTP 200
[PASS] GET /auth/me efter logout (401/403) (4 ms) | HTTP 401
[PASS] POST /auth/logout (idempotent 200) (43 ms) | HTTP 200
[PASS] POST /auth/login igen (200) (59 ms) | HTTP 200
[PASS] GET /cereals (liste) (134 ms) | HTTP 200; items: 87
[PASS] GET /cereals/top/5 (53 ms) | HTTP 200; items: 5
[PASS] GET /nope (404) (4 ms) | HTTP 404
[PASS] POST /cereals uden auth -> 401/403 (5 ms) | HTTP 401
[PASS] POST /cereals (indsæt testrække #1) (68 ms) | HTTP 200; body: {"inserted":1}
[PASS] GET /cereals indeholder testrække #1 (113 ms) | HTTP 200; found=True
[PASS] PUT /cereals/{key} (opdater #1) (66 ms) | HTTP 200; body: {"updated":1}
[PASS] DELETE /cereals/{key} #1 (200) (70 ms) | HTTP 200; body: {"deleted":1}
[PASS] POST /ops/import-csv (1 række via multipart) (177 ms) | HTTP 200; body: {"inserted":1}
[PASS] DELETE cereals/Import%20One%25%2025dfc65a/I/C (opryd importeret række) (50 ms) | HTTP 200; body: {"deleted":1}
[PASS] POST /products (create prod1 -> 201) (77 ms) | HTTP 201; body: {"id":102}
[PASS] POST /products (create prod2 -> 201) (56 ms) | HTTP 201; body: {"id":103}
[PASS] GET /products (liste >= 2) (133 ms) | HTTP 200; items=89
[PASS] GET /products/{id} (begge) (111 ms) | HTTP1 200, HTTP2 200
[PASS] POST /products (duplicate key -> 409) (12 ms) | HTTP 409; body: {"message":"A product with the same (name,mfr,type) already exists."}
[PASS] POST /products (update id1 -> 200) (86 ms) | HTTP 200; body: {"updated":1}
[PASS] GET /products/{id1} afspejler update (54 ms) | HTTP 200; calories=778
[PASS] DELETE /products/{id2} (200) (55 ms) | HTTP 200; body: {"deleted":1}
[PASS] DELETE /products/{id2} igen (404) (7 ms) | HTTP 404

OVERALL: FAIL  (35/37 passed)
